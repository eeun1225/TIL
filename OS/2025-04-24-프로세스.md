# 📚 프로세스(Process) (2025.04.24)
___

## 🌟 오늘 배운 내용
- 프로세스 개념
- 프로세스 구조
- 프로세스의 PC와 SP
- PCB 개념
- PCB에 저장되는 정보

<br/>

## 🔎 요약 정리

___

### ✅ 프로세스 개념

프로세스
- 실행 중인 프로그램
- OS에 의해 관리되고 독립적으로 실행되고 자원을 할당 받을 수 있는 단위
- OS는 프로세스들에게 적절히 자원들을 분배하여 여러가지 작업을 수행할 수 있게 한다.
- 

### ✅ 프로세스 구조

- 프로세스는 고유한 가상 메모리 공간을 제공한다.
    - 프로세스를 실행시키기 위해서는 코드의 데이터를 메모리에 올려 실행시켜야 한다.
- Code, Data, Heap, Stack영역으로 나눌 수 있다.
    - **Code 영역 : 작성한 코드가 저장되는 공간.**
        - 컴파일 되어 0과 1로 변환된 기계어가 저장된다.
    - **Data 영역 : 전역 변수, 정적 변수, 상수 등이 저장되는 공간**
        - 초기화된 변수와 초기화되지 않은 변수들이 저장된다.
        - 프로그램의 시작 시 초기화되며 종료될 때까지 유지된다.
    - **Stack 영역 : 지역변수, 매개변수, return 주소들이 저장되는 공간**
        - 알고리즘에서 사용하는 Stack 구조를 사용한다.
        - 프로세스마다 독립적인 Stack을 가질 수 있고, Stack 포인터를 통해 스택의 상태를 관리한다.
        - 함수가 호출되면 공간이 생성되고 함수가 종료되면 제거된다.
    - **Heap 영역 : 동적으로 생성되는 데이터 구조나 객체들이 저장되는 공간.**
        - 프로세스가 실행 중에 동적으로 메모리를 할당받고 해제하는데 사용된다.


### ✅ 프로세스 상태

- **프로세스 생성 (New)**
    - 생성만 되었고 자원은 할당받지 못한 상태.
- **실행 가능 (Ready)**
    - 필요한 자원을 모두 할당 받아 실행을 위한 준비를 완료됐지만 CPU를 할당받지 못한 상태.
- **실행 상태 (Running)**
    - CPU를 할당 받아 코드를 실행하는 상태.
- **대기 (Blocked)**
    - 작업 시간이 초과되거나 자원 사용을 위해 대기해야 하는 이벤트가 발생하여 잠시 멈춘 상태.
    - 이 상태에서는 CPU를 사용하지 않는다.
    - 잠시 Ready Queue로 들어가있다가 처리 가능 상태가 되면 실행상태로 변경한다
- **종료 (Terminated)**
    - 실행이 완료되어 종료된 상태.
    - 할당된 자원이 해제되고, 프로세스의 메모리 공간은 OS에 반환된다.

### ✅ 프로세스의 PC와 SP

- 프로세스가 실제로 돌아가려면 PC와 SP가 필요하다
- **PC(Program Counter)**
    - 실행할 명령어의 주소를 가리키는 레지스터
    - 명령어를 순차적으로 실행하면서 PC값을 증가시켜서 다음에 실행할 명령어를 가리킨다.
    - 프로그램의 흐름을 제어하는 역할을 한다.
        - 명령어를 실행하다가 분기나 점프 명령어를 만나면 PC의 값을 분기된 주소로 변경하여 해당 명령어를 실행한다.
    - 프로세스가 중단되거나 인터럽트가 발생했을 때 현재 실행 중이던 명령어의 주소를 저장하고, 이후 다시 실행되었을 때 주소를 찾아가 재실행 시킬 수 있는 역할을 한다.

- **SP(Stack Pointer)**
    - 현재 실행 중인 프로세스의 스택의 최상단을 가리키는 레지스터
    - SP는 스택 프레임의 시작 주소를 가리키며 스택에 데이터를 저장하거나 불러올 때 사용된다.
    - 함수 호출 시 SP가 감소하여 스택에 새로운 스택 프레임을 생성하고, 함수가 반환되면 SP가 증가하여 이전 스택 프레임으로 돌아간다.
    - SP는 프로세스의 스택 영역을 관리하고, 오버플로우와 같은 문제를 방지하기 위해 제한된 메모리 영역을 사용하는 등의 역할을 수행한다.


### ✅ PCB(Process Control Block)

- 운영체제가 프로세스를 관리하기 위해 사용되는 데이터 구조
- 프로그램이 실행되면 프로세스의 정보를 저장하는 별도의 공간이 따로 생긴다.
    - 각 프로세스의 상태, CPU 사용의 정보, 메모리 사용 정보 등 각종 자원을 관리하기 위해서 PCB라는 공간을 둔다.
- PCB는 각 프로세스마다 유지되며, 해당 프로세스의 상태 정보와 제어 정보를 저장한다.
    - 프로세스가 생성되면 운영체제는 PCB는 할당하고, 프로세스가 종료되면 해당 PCB는 해제한다.


### ✅ PCB에 저장되는 정보

- **프로세스 상태**
    - 프로세스 스케줄링과 상호작용하여 프로세스의 실행을 관리한다.
- **프로그램 카운터**
    - 프로세스가 중단되었을 때 다시 시작할 위치를 알려주는 중요한 역할을 한다.
- **레지스터**
    - 현재 실행되는 동안 사용되는 레지스터 값들을 저장한다.
    - 프로세스가 일시 중단되고 다시 실행될 때 레지스터 값들을 복원하는데 사용된다.
- **스케줄링 정보**
    - 프로세스의 우선순위, 할당 된 CPU 시간, 스케줄링 알고리즘과 관련된 정보 등 스케줄링에 필요한 정보를 포함한다.
- **메모리 관리 정보**
    - 메모리 관리에 필요한 정보를 저장한다.
- **입출력 상태**
    - 프로세스가 현재 사용 중인 입출력 장치와 관련된 정보를 포함한다.